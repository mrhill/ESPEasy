<head><title>Shade Groups</title></head>
<style>
body {
	margin: 0;
	font-family: "Helvetica Neue", Arial, sans-serif;
	text-align: center;
	font-size: 6vw;
}

h1 {
	font-size: 8vw;
	margin: 2vw;
}

table {
	font-size: 5vw;
	margin-left: auto;
	margin-right: auto;
	border-spacing: 0;
}

button {
	display: inline-block;
	margin: .5vw;
	border: 0;
	border-radius: .5vw;
	padding: 1vw 2vw;
	cursor: pointer;
	font-size: 5vw;
	background-color: #ccc;
	color: #000;
	line-height: 1.5;
}
button:hover {
	opacity: 0.85;
}
.act {
	background-color: #2af;
	color: #fff;
}

input {font-size: 5vw;}
input[type=text] { width: 70vw; }

#pop {
	display: none;
	position: absolute;
	width: 100%;
	padding: 1vw;
	opacity: .9;
}
</style>

<script>
function popup(txt,inf) {
	let e = document.getElementById('pop');
	e.firstChild.innerText = txt;
	e.style.color = inf&&'#040'||'red';
	e.style.background = inf&&'#CFC'||'pink';
	e.style.display = 'block';
}
function hideload() {document.getElementById('loading').style.display = 'none';}
function load() {
	fetch("json").then(r=>r.json()).then(dev=>{
		hideload();
		var el = document.getElementById('tbl');
		for (i=0; i<8; i++) {
			el.insertAdjacentHTML('beforeend', `<tr><td>${i}</td><td><input readonly type="text" id="g${i}" value="${dev['groups'][i]['name']}"></td><td><button class="act" onclick="location.href='group.htm?id=${i}'" class="button">Edit</button></td></tr>`);
		}
	}).catch(()=>{
		hideload();
		popup("Error loading from device");
	});
}
document.addEventListener("DOMContentLoaded", load);
</script>

<body>
	<div id="pop"><span></span><button onclick="document.getElementById('pop').style.display='none'">&#x274E;</button></div>

	<h1>Shade Groups</h1>
	<table id="tbl">
		<tr><th>No</th><th>Name</th></tr>
	</table>
	<p id="loading">Loading data...</p>

	<p><button onclick="location.href='setup.htm'">Back</button></p>
</body>
